!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequired7c6=a);var o,i,s=a("bpxeT"),l=a("2TvXO"),d=a("5118m"),c=a("kK94C"),u=a("2fHuZ"),p=a("5xtVg"),m=a("2GBsa"),f=u.commonElements.body,v=u.commonElements.movieCards,h=u.commonElements.backdropModal,y=(u.commonElements.closeModal,u.commonElements.modalMovie,u.commonElements.addWatched),x=u.commonElements.addQueue,E=u.indexElements.heroForm,g=u.indexElements.pagination,w=u.indexElements.paginationAddBtn,k=u.indexElements.paginationSubBtn,L=u.indexElements.paginationSpan,M=u.indexElements.loader,b=1;M.style.display="none",g.style.display="none",(0,p.toogleModal)();var C,S=(C=e(s)(e(l).mark((function n(){var t;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new URLSearchParams({page:b}),T("movie/popular?",t);case 3:case"end":return e.stop()}}),n)}))),function(){return C.apply(this,arguments)}),T=function(){var n=e(s)(e(l).mark((function n(t,r){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M.style.display="block",v.innerHTML="",e.prev=2,e.next=5,(0,c.fetchMovies)(t,r);case 5:a=e.sent,M.style.display="none",o=a.total_pages,(i=a.results).length>0?((0,d.createMoviesMarkup)(i,v),g.style.display="flex"):Notiflix.Notify.failure("Sorry, no result for your search"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0.message);case 15:case"end":return e.stop()}}),n,null,[[2,12]])})));return function(e,t){return n.apply(this,arguments)}}(),R=function(){var n=e(s)(e(l).mark((function n(t){var r,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b=1,L.textContent=1,v.innerHTML="",r=t.target,i=r.elements.movieInput.value,"search/movie?",a=new URLSearchParams({query:i,page:b}),T("search/movie?",a),r.reset();case 10:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();E.addEventListener("submit",R),w.addEventListener("click",(function(){if(b<o){b+=1,L.textContent=b;var e=new URLSearchParams({page:b});i&&e.set("query",i),T(i?"search/movie?":"movie/popular?",e)}})),k.addEventListener("click",(function(){if(b>1){b-=1,L.textContent=b;var e=new URLSearchParams({page:b});i&&e.set("query",i),T(i?"search/movie?":"movie/popular?",e)}})),v.addEventListener("click",p.handleSelectCard),h.addEventListener("click",p.handleCloseModal),f.addEventListener("keydown",p.handleKeyCloseModal),y.addEventListener("click",m.handleAddWatched),x.addEventListener("click",m.handleAddQueue),S()}();
//# sourceMappingURL=index.a700c48f.js.map
