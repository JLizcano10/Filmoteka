!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a);var o,c,i=a("bpxeT"),u=a("2TvXO"),s=a("5118m"),l=a("kK94C"),d=document.querySelector("form.hero__form"),p=document.querySelector("ul.movie-cards__list"),f=document.querySelector("button.pagination__add"),v=document.querySelector("button.pagination__sub"),m=document.querySelector("span.pagination__span"),y=document.querySelector("div.backdrop"),g=document.querySelector(".modal__btn"),h=document.querySelector(".modal-movie"),S=document.querySelector(".watched"),w=document.querySelector(".queue"),_=document.querySelector(".loader"),b=1,q=null;_.style.display="none";var k,x=JSON.parse(localStorage.getItem("watchedArray"))||[],L=JSON.parse(localStorage.getItem("queueArray"))||[],M=function(e){e?y.classList.add("visible"):y.classList.remove("visible")},E=(k=e(i)(e(u).mark((function t(){var r;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new URLSearchParams({page:b}),O("movie/popular?",r);case 3:case"end":return e.stop()}}),t)}))),function(){return k.apply(this,arguments)}),O=function(){var t=e(i)(e(u).mark((function t(r,n){var a,c;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.innerHTML="",e.prev=1,e.next=4,(0,l.fetchMovies)(r,n);case 4:a=e.sent,o=a.total_pages,(c=a.results).length>0?(0,s.createMoviesMarkup)(c,p):(console.log("Error"),_.style.display="block"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),t,null,[[1,10]])})));return function(e,r){return t.apply(this,arguments)}}(),T=function(){var t=e(i)(e(u).mark((function t(r){var n,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.preventDefault(),b=1,m.textContent=1,p.innerHTML="",n=r.target,c=n.elements.movieInput.value,"search/movie?",a=new URLSearchParams({query:c,page:b}),O("search/movie?",a),n.reset();case 10:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),I=function(){var t=e(i)(e(u).mark((function t(r){var n,a;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=r.target.closest("li.movie-cards__item"))){e.next=15;break}return M(!0),h.innerHTML="",e.prev=4,e.next=7,(0,l.fetchMovieByID)(n.id);case 7:a=e.sent,q=a,(0,s.createMovieModalMarkup)(a,h),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0.message);case 15:case"end":return e.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}();d.addEventListener("submit",T),f.addEventListener("click",(function(){if(b<o){b+=1,m.textContent=b;var e=new URLSearchParams({page:b});c&&e.set("query",c),O(c?"search/movie?":"movie/popular?",e)}})),v.addEventListener("click",(function(){if(b>1){b-=1,m.textContent=b;var e=new URLSearchParams({page:b});c&&e.set("query",c),O(c?"search/movie?":"movie/popular?",e)}})),p.addEventListener("click",I),g.addEventListener("click",(function(e){e.target.closest("button.modal__btn")&&M(!1)})),S.addEventListener("click",(function(e){if(q){x.push(q);var t=JSON.stringify(x);localStorage.setItem("watchedArray",t)}})),w.addEventListener("click",(function(e){if(q){L.push(q);var t=JSON.stringify(L);localStorage.setItem("queueArray",t)}})),E()}();
//# sourceMappingURL=index.12f5417e.js.map
