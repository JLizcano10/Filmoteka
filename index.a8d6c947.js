var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){a[e]=n},e.parcelRequired7c6=t);var o=t("cky31"),r=t("9MaFa"),l=t("5iv9P"),i=t("bTcpz"),d=t("awt75");const{body:s,movieCards:c,backdropModal:p,closeModal:u,modalMovie:y,addWatched:v,addQueue:f}=l.commonElements,{heroForm:h,pagination:m,paginationAddBtn:g,paginationSubBtn:L,paginationSpan:w,loader:M}=l.indexElements;let E,k,x=1;M.style.display="none",m.style.display="none",(0,i.toogleModal)();const b=async(e,n)=>{M.style.display="block",c.innerHTML="";try{const a=await(0,r.fetchMovies)(e,n);M.style.display="none",E=a.total_pages;const t=a.results;t.length>0?((0,o.createMoviesMarkup)(t,c),m.style.display="flex"):Notiflix.Notify.failure("Sorry, no result for your search")}catch(e){console.log(e.message)}};h.addEventListener("submit",(async e=>{e.preventDefault(),x=1,w.textContent=1,c.innerHTML="";const n=e.target;k=n.elements.movieInput.value;const a=new URLSearchParams({query:k,page:x});b("search/movie?",a),n.reset()})),g.addEventListener("click",(()=>{if(x<E){x+=1,w.textContent=x;const e=new URLSearchParams({page:x});k&&e.set("query",k);b(k?"search/movie?":"movie/popular?",e)}})),L.addEventListener("click",(()=>{if(x>1){x-=1,w.textContent=x;const e=new URLSearchParams({page:x});k&&e.set("query",k);b(k?"search/movie?":"movie/popular?",e)}})),c.addEventListener("click",i.handleSelectCard),p.addEventListener("click",i.handleCloseModal),s.addEventListener("keydown",i.handleKeyCloseModal),v.addEventListener("click",d.handleAddWatched),f.addEventListener("click",d.handleAddQueue),(async()=>{const e=new URLSearchParams({page:x});b("movie/popular?",e)})();
//# sourceMappingURL=index.a8d6c947.js.map
