var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in o){var r=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,r.call(n.exports,n,n.exports),n.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){o[e]=t},e.parcelRequired7c6=r);var n=r("cky31"),a=r("9MaFa");const l=document.querySelector(".movie-cards__list"),i=document.querySelector(".hero__container"),c=document.querySelector(".no-movies");c.style.display="none";const s=document.querySelector("body"),d=document.querySelector("div.backdrop"),y=(document.querySelector(".modal__btn"),document.querySelector(".modal-movie"));let u=null;const p=e=>{e?d.classList.add("visible"):d.classList.remove("visible")};i.addEventListener("click",(e=>{if("BUTTON"===e.target.nodeName){if(console.log(e.target.id),"watched"===e.target.id){l.innerHTML="";const e=localStorage.getItem("watchedArray"),t=JSON.parse(e)||[];t.length>0?(c.style.display="none",(0,n.createLibraryMoviesMarkup)(t,l)):c.style.display="block"}if("queue"===e.target.id){l.innerHTML="";const e=localStorage.getItem("queueArray"),t=JSON.parse(e)||[];t.length>0?(c.style.display="none",(0,n.createLibraryMoviesMarkup)(t,l)):c.style.display="block"}}})),l.addEventListener("click",(async e=>{const t=e.target.closest("li.movie-cards__item");if(t){console.log(t.id),p(!0),y.innerHTML="";try{const e=await(0,a.fetchMovieByID)(t.id);u=e,(0,n.createMovieModalMarkup)(e,y)}catch(e){console.log(e.message)}}})),d.addEventListener("click",(e=>{(e.target.closest("button.modal__btn")||e.target===d)&&p(!1)})),s.addEventListener("keydown",(e=>{"Escape"===e.code&&p(!1)})),(()=>{l.innerHTML="";const e=localStorage.getItem("watchedArray"),t=JSON.parse(e)||[];t.length>0?(c.style.display="none",(0,n.createLibraryMoviesMarkup)(t,l)):c.style.display="block"})();
//# sourceMappingURL=my-library.1c9883ca.js.map
