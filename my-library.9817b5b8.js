!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},t.parcelRequired7c6=a);var o=a("bpxeT"),i=a("2TvXO"),l=a("2fHuZ"),s=a("5118m"),c=a("kK94C"),d=l.commonElements.body,u=l.commonElements.movieCards,m=l.commonElements.backdropModal,p=(l.commonElements.closeModal,l.commonElements.modalMovie),f=(l.commonElements.addWatched,l.commonElements.addQueue,l.libraryElements.heroLibraryButtons),y=l.libraryElements.noMoviesText;y.style.display="none";var v,b=function(e){e?m.classList.add("visible"):m.classList.remove("visible")},g=(v=e(o)(e(i).mark((function t(n){var r,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.target.closest("li.movie-cards__item"))){e.next=15;break}return b(!0),p.innerHTML="",e.prev=4,e.next=7,(0,c.fetchMovieByID)(r.id);case 7:a=e.sent,a,(0,s.createMovieModalMarkup)(a,p),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0.message);case 15:case"end":return e.stop()}}),t,null,[[4,12]])}))),function(e){return v.apply(this,arguments)});f.addEventListener("click",(function(e){if("BUTTON"===e.target.nodeName){if("watched"===e.target.id){u.innerHTML="";var t=localStorage.getItem("watchedArray"),n=JSON.parse(t)||[];n.length>0?(y.style.display="none",(0,s.createLibraryMoviesMarkup)(n,u)):y.style.display="block"}if("queue"===e.target.id){u.innerHTML="";var r=localStorage.getItem("queueArray"),a=JSON.parse(r)||[];a.length>0?(y.style.display="none",(0,s.createLibraryMoviesMarkup)(a,u)):y.style.display="block"}}})),u.addEventListener("click",g),m.addEventListener("click",(function(e){(e.target.closest("button.modal__btn")||e.target===m)&&b(!1)})),d.addEventListener("keydown",(function(e){"Escape"===e.code&&b(!1)})),function(){u.innerHTML="";var e=localStorage.getItem("watchedArray"),t=JSON.parse(e)||[];t.length>0?(y.style.display="none",(0,s.createLibraryMoviesMarkup)(t,u)):y.style.display="block"}()}();
//# sourceMappingURL=my-library.9817b5b8.js.map
