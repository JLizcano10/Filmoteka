var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequired7c6;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequired7c6=o);var r=o("5iv9P"),n=o("cky31"),i=o("9MaFa");const{body:l,movieCards:s,backdropModal:d,closeModal:c,modalMovie:y,addWatched:p,addQueue:u}=r.commonElements,{heroLibraryButtons:g,noMoviesText:v}=r.libraryElements;let f=null;v.style.display="none";const M=e=>{e?d.classList.add("visible"):d.classList.remove("visible")};g.addEventListener("click",(e=>{if("BUTTON"===e.target.nodeName){if("watched"===e.target.id){s.innerHTML="";const e=localStorage.getItem("watchedArray"),t=JSON.parse(e)||[];t.length>0?(v.style.display="none",(0,n.createLibraryMoviesMarkup)(t,s)):v.style.display="block"}if("queue"===e.target.id){s.innerHTML="";const e=localStorage.getItem("queueArray"),t=JSON.parse(e)||[];t.length>0?(v.style.display="none",(0,n.createLibraryMoviesMarkup)(t,s)):v.style.display="block"}}})),s.addEventListener("click",(async e=>{const t=e.target.closest("li.movie-cards__item");if(t){M(!0),y.innerHTML="";try{const e=await(0,i.fetchMovieByID)(t.id);f=e,(0,n.createMovieModalMarkup)(e,y)}catch(e){console.log(e.message)}}})),d.addEventListener("click",(e=>{(e.target.closest("button.modal__btn")||e.target===d)&&M(!1)})),l.addEventListener("keydown",(e=>{"Escape"===e.code&&M(!1)})),(()=>{s.innerHTML="";const e=localStorage.getItem("watchedArray"),t=JSON.parse(e)||[];t.length>0?(v.style.display="none",(0,n.createLibraryMoviesMarkup)(t,s)):v.style.display="block"})();
//# sourceMappingURL=my-library.0b4a44e2.js.map
